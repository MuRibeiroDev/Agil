<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>Sistema de Vistoria Agil</title>
    
    <!-- Preconnect para otimizar carregamento -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    
    <!-- Meta tags para PWA e otimiza√ß√£o mobile -->
    <meta name="theme-color" content="#2563eb">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Vistoria Agil">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
    <link rel="apple-touch-icon" href="/assets/favicon.svg">
    
    <!-- Manifest PWA -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/frontend/css/style.css">
</head>
<body>
    <div id="app">
        <!-- Loading -->
        <div id="loading" class="loading hidden">
            <div class="spinner"></div>
        </div>

        <!-- Main Container -->
        <div class="container">
            <!-- Header -->
            <header class="header">
                <div class="header-content">
                    <div class="company-logo">
                        <div class="logo-icon">SA</div>
                        <div class="company-info">
                            <h1 class="title">Vistoria Agil</h1>
                            <p class="subtitle">Vistoria de Ve√≠culos</p>
                        </div>
                    </div>
                    <div class="header-meta">
                        <div class="inspection-badge">
                            <span class="badge-label">Vistoria Completa</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Indicador de Progresso -->
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-step active" data-step="1">
                        <span class="step-number">1</span>
                        <span class="step-label">Ve√≠culo</span>
                    </div>
                    <div class="progress-step" data-step="2">
                        <span class="step-number">2</span>
                        <span class="step-label">Question√°rio</span>
                    </div>
                    <div class="progress-step" data-step="3">
                        <span class="step-number">3</span>
                        <span class="step-label">Fotos</span>
                    </div>
                    <div class="progress-step" data-step="4">
                        <span class="step-number">4</span>
                        <span class="step-label">Conferente</span>
                    </div>
                    <div class="progress-step" data-step="5">
                        <span class="step-number">5</span>
                        <span class="step-label">Assinatura</span>
                    </div>
                </div>
            </div>

            <!-- Vistoria Form -->
            <form id="form-vistoria" class="vistoria-form" novalidate>
                <!-- Passo 1: Informa√ß√µes do Ve√≠culo -->
                <section class="section step-content" id="step-1">
                    <h2 class="section-title">
                        <span class="icon icon-car"></span>
                        Informa√ß√µes do Ve√≠culo
                    </h2>
                    <div class="form-grid">
                        <!-- Sele√ß√£o de ve√≠culo pr√≥prio ou de terceiro -->
                        <div class="form-group full-width">
                            <label class="label">Tipo de Ve√≠culo</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="tipo_veiculo" value="proprio" checked>
                                    <span class="radio-custom"></span>
                                    Ve√≠culo Pr√≥prio
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="tipo_veiculo" value="terceiro">
                                    <span class="radio-custom"></span>
                                    Ve√≠culo de Terceiro
                                </label>
                            </div>
                        </div>
                        
                        <!-- Campo para nome do terceiro (oculto inicialmente) -->
                        <div class="form-group full-width hidden" id="campo-terceiro">
                            <label for="nome_terceiro" class="label">Nome do Terceiro</label>
                            <input type="text" id="nome_terceiro" name="nome_terceiro" class="input uppercase-input" placeholder="nome da transportadora respons√°vel">
                        </div>
                        
                        <div class="form-group">
                            <label for="nome_cliente" class="label">Nome do Cliente</label>
                            <input type="text" id="nome_cliente" name="nome_cliente" class="input uppercase-input" placeholder="Nome cliente">
                        </div>
                        
                        <div class="form-group">
                            <label for="placa" class="label">Placa</label>
                            <input type="text" id="placa" name="placa" class="input uppercase-input" placeholder="ABC1234" maxlength="7">
                        </div>
                        <div class="form-group">
                            <label for="modelo" class="label">Modelo</label>
                            <input type="text" id="modelo" name="modelo" class="input uppercase-input" placeholder="Honda Civic">
                        </div>
                        <div class="form-group">
                            <label for="cor" class="label">Cor</label>
                            <input type="text" id="cor" name="cor" class="input uppercase-input" placeholder="Branco">
                        </div>
                        <div class="form-group">
                            <label for="ano" class="label">Ano</label>
                            <input type="number" id="ano" name="ano" class="input" placeholder="2020" min="1900" max="2035">
                        </div>
                        <div class="form-group">
                            <label for="km_rodado" class="label">KM Rodado</label>
                            <input type="number" id="km_rodado" name="km_rodado" class="input" placeholder="50000" min="0">
                        </div>
                        <div class="photo-item">
                            <label class="photo-label">Documento/Nota Fiscal</label>
                            <div class="photo-upload">
                                <input type="file" id="documento_nota_fiscal" name="documento_nota_fiscal" accept=".pdf,.jpg,.jpeg,.png,.doc,.docx">
                                <label for="documento_nota_fiscal" class="photo-preview" id="preview_documento">
                                     üìÑ Toque para selecionar documento
                                </label>
                                <!-- Bot√£o alternativo para desktop - sempre vis√≠vel -->
                                <label for="documento_nota_fiscal" class="btn-upload-desktop" id="btn_upload_documento">
                                    üìé Selecionar Documento
                                </label>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Passo 2: Question√°rio de Itens -->
                <section class="section step-content hidden" id="step-2">
                    <h2 class="section-title">
                        <span class="icon icon-clipboard"></span>
                        Question√°rio de Itens
                    </h2>
                    <div class="checkbox-grid">
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="ar_condicionado">
                                Tem ar condicionado?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="antenas">
                                Antenas?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="tapetes">
                                Tapetes?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="tapete_porta_malas">
                                Tapete porta malas?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="bateria">
                                Bateria?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="retrovisor_direito">
                                Retrovisor direito?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="retrovisor_esquerdo">
                                Retrovisor esquerdo?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="extintor">
                                Extintor?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="roda_comum">
                                Roda comum?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="roda_especial">
                                Roda especial?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="chave_principal">
                                Chave principal?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="chave_reserva">
                                Chave reserva?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="manual">
                                Manual?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="documento">
                                Documento?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="nota_fiscal">
                                Nota fiscal?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="limpador_dianteiro">
                                Limpador p√°ra-brisa dianteiro?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="limpador_traseiro">
                                Limpador p√°ra-brisa traseiro?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="triangulo">
                                Tri√¢ngulo?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="macaco">
                                Macaco?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="chave_roda">
                                Chave de roda?
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <label class="checkbox-label">
                                <input type="checkbox" name="pneu_step">
                                Pneu step?
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Passo 3: Se√ß√£o de Fotos -->
                <section class="section step-content hidden" id="step-3">
                    <h2 class="section-title">
                        <span class="icon icon-camera"></span>
                        Fotos da Vistoria
                    </h2>
                    
                    <!-- Fotos Principais -->
                    <div class="photo-category">
                        <h3 class="photo-category-title">Fotos Obrigat√≥rias</h3>
                        <div class="photo-grid">
                            <div class="photo-item">
                                <label class="photo-label">Painel (ligado meia chave)</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_painel" name="foto_painel" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_painel">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Interior frente</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_interior_frente" name="foto_interior_frente" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_interior_frente">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Interior traseira</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_interior_tras" name="foto_interior_tras" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_interior_tras">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Frente</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_frente" name="foto_frente" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_frente">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Frente 45¬∫ esquerda</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_frente_45_esq" name="foto_frente_45_esq" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_frente_45_esq">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Frente 45¬∫ direita</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_frente_45_dir" name="foto_frente_45_dir" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_frente_45_dir">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Lateral esquerda</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_lateral_esq" name="foto_lateral_esq" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_lateral_esq">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Lateral direita</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_lateral_dir" name="foto_lateral_dir" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_lateral_dir">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Traseira 45¬∫ esquerda</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_tras_45_esq" name="foto_tras_45_esq" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_tras_45_esq">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Traseira 45¬∫ direita</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_tras_45_dir" name="foto_tras_45_dir" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_tras_45_dir">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Traseira</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_traseira" name="foto_traseira" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_traseira">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Teto</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_teto" name="foto_teto" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_teto">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Porta malas aberto</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_porta_malas" name="foto_porta_malas" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_porta_malas">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Step</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_step" name="foto_step" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_step">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Fotos dos Pneus -->
                    <div class="photo-category">
                        <h3 class="photo-category-title">Pneus</h3>
                        <div class="photo-grid">
                            <div class="photo-item pneu-item">
                                <label class="photo-label">Pneu Dianteiro Esquerdo</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_pneu_de" name="foto_pneu_de" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_pneu_de">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                                <input type="text" placeholder="Marca do pneu" name="marca_pneu_de" class="input pneu-marca">
                            </div>
                            
                            <div class="photo-item pneu-item">
                                <label class="photo-label">Pneu Dianteiro Direito</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_pneu_dd" name="foto_pneu_dd" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_pneu_dd">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                                <input type="text" placeholder="Marca do pneu" name="marca_pneu_dd" class="input pneu-marca">
                            </div>
                            
                            <div class="photo-item pneu-item">
                                <label class="photo-label">Pneu Traseiro Esquerdo</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_pneu_te" name="foto_pneu_te" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_pneu_te">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                                <input type="text" placeholder="Marca do pneu" name="marca_pneu_te" class="input pneu-marca">
                            </div>
                            
                            <div class="photo-item pneu-item">
                                <label class="photo-label">Pneu Traseiro Direito</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_pneu_td" name="foto_pneu_td" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_pneu_td">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                                <input type="text" placeholder="Marca do pneu" name="marca_pneu_td" class="input pneu-marca">
                            </div>
                        </div>
                    </div>

                    <!-- Fotos de Observa√ß√£o -->
                    <div class="photo-category">
                        <h3 class="photo-category-title">Fotos de Observa√ß√£o (Opcionais)</h3>
                        <div class="photo-grid">
                            <div class="photo-item">
                                <label class="photo-label">Observa√ß√£o 1</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_obs_1" name="foto_obs_1" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_obs_1">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                                <textarea placeholder="Descri√ß√£o da observa√ß√£o" name="desc_obs_1" class="textarea obs-desc"></textarea>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Observa√ß√£o 2</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_obs_2" name="foto_obs_2" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_obs_2">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                                <textarea placeholder="Descri√ß√£o da observa√ß√£o" name="desc_obs_2" class="textarea obs-desc"></textarea>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Observa√ß√£o 3</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_obs_3" name="foto_obs_3" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_obs_3">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                                <textarea placeholder="Descri√ß√£o da observa√ß√£o" name="desc_obs_3" class="textarea obs-desc"></textarea>
                            </div>
                            
                            <div class="photo-item">
                                <label class="photo-label">Observa√ß√£o 4</label>
                                <div class="photo-upload">
                                    <input type="file" id="foto_obs_4" name="foto_obs_4" accept="image/*" capture="camera">
                                    <div class="photo-preview" id="preview_obs_4">
                                        üì∏ Toque para fotografar
                                    </div>
                                </div>
                                <textarea placeholder="Descri√ß√£o da observa√ß√£o" name="desc_obs_4" class="textarea obs-desc"></textarea>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Passo 4: Informa√ß√µes do Conferente -->
                <section class="section step-content hidden" id="step-4">
                    <h2 class="section-title">
                         Informa√ß√µes do Conferente
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="nome_conferente" class="label">Nome do Conferente *</label>
                            <input type="text" id="nome_conferente" name="nome_conferente" class="input" required>
                        </div>
                        <div class="form-group">
                            <label for="data_vistoria" class="label">Data e Hora da Vistoria</label>
                            <input type="datetime-local" id="data_vistoria" name="data_vistoria" class="input" readonly>
                        </div>
                    </div>
                </section>

                <!-- Passo 5: Revis√£o da Vistoria -->
                <section class="section step-content hidden" id="step-5">
                    <h2 class="section-title">
                        üìã Revis√£o da Vistoria
                    </h2>
                    <div class="review-container">
                        <div class="review-section">
                            <h3 class="review-title">üöó Dados do Ve√≠culo</h3>
                            <div class="review-grid">
                                <div class="review-item">
                                    <span class="review-label">Placa:</span>
                                    <span class="review-value" id="review-placa">-</span>
                                </div>
                                <div class="review-item">
                                    <span class="review-label">Modelo:</span>
                                    <span class="review-value" id="review-modelo">-</span>
                                </div>
                                <div class="review-item">
                                    <span class="review-label">Cor:</span>
                                    <span class="review-value" id="review-cor">-</span>
                                </div>
                                <div class="review-item">
                                    <span class="review-label">Ano:</span>
                                    <span class="review-value" id="review-ano">-</span>
                                </div>
                                <div class="review-item">
                                    <span class="review-label">KM Rodado:</span>
                                    <span class="review-value" id="review-km">-</span>
                                </div>
                                <div class="review-item">
                                    <span class="review-label">Documento:</span>
                                    <span class="review-value" id="review-documento">-</span>
                                </div>
                            </div>
                        </div>

                        <div class="review-section">
                            <h3 class="review-title">‚úÖ Question√°rio de Vistoria</h3>
                            <div class="review-questions" id="review-questions">
                                <!-- Perguntas ser√£o preenchidas dinamicamente -->
                            </div>
                        </div>

                        <div class="review-section">
                            <h3 class="review-title">üì∏ Fotos da Vistoria</h3>
                            <div class="review-photos" id="review-photos">
                                <p class="review-no-photos">Nenhuma foto adicionada</p>
                            </div>
                        </div>

                        <div class="review-section">
                            <h3 class="review-title">üë§ Dados do Conferente</h3>
                            <div class="review-grid">
                                <div class="review-item">
                                    <span class="review-label">Nome:</span>
                                    <span class="review-value" id="review-conferente">-</span>
                                </div>
                                <div class="review-item">
                                    <span class="review-label">Data/Hora:</span>
                                    <span class="review-value" id="review-data">-</span>
                                </div>
                            </div>
                        </div>

                        <div class="review-confirmation">
                            <div class="confirmation-box">
                                <p class="confirmation-text">
                                    ‚ö†Ô∏è <strong>Aten√ß√£o:</strong> Verifique todas as informa√ß√µes acima antes de prosseguir para a assinatura.
                                    Ap√≥s assinar, n√£o ser√° poss√≠vel alterar os dados da vistoria.
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Passo 6: Assinatura Digital -->
                <section class="section step-content hidden" id="step-6">
                    <h2 class="section-title">
                        ‚úçÔ∏è Assinatura Digital do Cliente
                    </h2>
                    <div class="signature-container">
                        <canvas id="signature-canvas" class="signature-canvas"></canvas>
                        <div class="signature-controls">
                            <button type="button" id="clear-signature" class="button button-secondary">
                                üóëÔ∏è Limpar Assinatura
                            </button>
                            <button type="button" id="generate-signature-link" class="button button-warning">
                                ÔøΩ Salvar e Gerar Link para Cliente
                            </button>
                        </div>
                        <p class="signature-note">üí° Ao gerar o link, a vistoria ser√° salva automaticamente e o processo ser√° finalizado</p>
                    </div>
                </section>

                <!-- Navega√ß√£o entre Passos -->
                <div class="step-navigation">
                    <button type="button" id="btn-anterior" class="button button-secondary button-small hidden">
                        <span class="button-icon">&larr;</span>
                        <span>Voltar</span>
                    </button>
                    <button type="button" id="btn-proximo" class="button button-primary button-small">
                        <span>Avan√ßar</span>
                        <span class="button-icon">&rarr;</span>
                    </button>
                </div>

                <!-- A√ß√µes do Formul√°rio (s√≥ aparece no √∫ltimo passo) -->
                <div class="form-actions hidden" id="final-actions">
                    <div class="action-buttons">
                        <button type="button" id="btn-anterior-final" class="button button-secondary button-small">
                            <span class="button-icon">‚Üê</span>
                            <span>Voltar</span>
                        </button>
                        <button type="button" id="btn-finalizar" class="button button-primary button-small">
                            Finalizar
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Confirma√ß√£o -->
    <div id="modal-confirm" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Confirma√ß√£o</h3>
            </div>
            <div class="modal-body">
                <p id="modal-message"></p>
            </div>
            <div class="modal-actions">
                <button id="modal-cancel-btn" class="button button-secondary">
                    <span>Cancelar</span>
                </button>
                <button id="modal-confirm-btn" class="button button-primary">
                    <span>Confirmar</span>
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="/frontend/js/app.js"></script>
    
    <!-- Service Worker para cache offline -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/js/sw.js')
                    .then(function(registration) {
                        console.log('Service Worker registrado com sucesso:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('Falha ao registrar Service Worker:', error);
                    });
            });
        }
    </script>
</body>
</html>
